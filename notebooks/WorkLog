# Welcome to the VarClump WorkLog!


### Overview of work done until 17/06/2016
- Implemented concept test with two approaches: Variating $c,\sigma$ together and separately.
- Variational formulation and deduction (Created a Mathematica notebook with analysis and deduction)
- Implemented ELFunc classes to handle variational problems.
- Proposed two penalizing functions $\psi_1$ and $\psi_2$ with corresponding parameters.(Created a Mathematica notebook with analysis of each one)
- Added experiments for both approaches. Orion Nebulae CO observations are used.
- Analysis of results and their dependence with parameters of Lagrangian formulation.
- Minimal broadening of gaussians $\sigma_i^2 = \sigma_0^2 + \widehat{\sigma}^2$.
- Force c coefficients to be positive.


### Session WorkLog [17/06/2016]
- We need to determine a relation between model parameters and physical parameters of cube. Adjust $\alpha,\beta$ acording to the order of magnitud of RMS of data.
- Test splines for phi2 func.
- Ideas for (alpha, lambda1): \alpha(RMS) - \lambda(x) = f(x)/RMS - \lambda(x) = n/Er
- Desirable properties of psi2: Slowly penalize low variations and Fast penalizing of high variations.
- In 2D implementation, choose center points with knowledge of data: Fast convolution method...


### Between sessions WorkLog
- Created EulerLagrange1D module, to avoid rewriting the functions on each notebook.
- New Phi2 proposal: 5th order spline. Added Mathematica notebook with implementation and analysis.
- Implemented the new Psi proposal on notebooks
- Added flag to show center points on compare\_plot() function.
- added study\_of\_parameters notebook

### Session WorkLog [1/07/2016]
- Discussed the meaning of the weight parameters (alpha and beta). They should be setted by the user, but some physical interpretation must be present.
- Discussed the parameter \lambda1(x) = f(x)/RMS. Noticed that this inclusion will change the variational formulation. It will be better if we have constante lambda1, but induced from the data.
- Discussed the parameter \lambda2. A relation between maximum peak and spectral resolution is linked with this parameter.
- The gradient of the data was plotted. If we want to perform outlier detection, then a translating parameter should be used to penalize only the gradients above some threshold. This threshold must be computed with the data information.
- Then the \lambda2 parameters only controls the smoothness of the solution.

### Between sessions Worklog
- Fixed problem with init method of ELFunc() 2D version, working now!
- Added a better way of computing phi__ matrices at each evaluation of F()
- F() evaluation working good!
- Improved the selection of center points and boundary points (A more general way)
- Reimplemented 2D version in a more clean way (v1).
- Improved grid points generation.


### Session Worklog [15/07/2016]
- Implement a better strategy for center points: some clustering algorithm.
- Improve the strategy for evaluation of phi_* matrices.
- Implement the sparse representation with scipy sparse module.
- theoretical analysis of action radio for gaussian functions: x^p e^(-x)


### Session Worklog [5/08/2016]
- gaussclump to find peaks as preprocessing
- repeat points to generate weights


### Session Worklog [19/08/2016]
- create an uniform grid of points on pixels below of the RMS value, and join them with the concetrated points over the RMS value.
- implement compactly support guassian, with $5\sigma$ as effective support.
- 

### Session Worklog [26/08/2016]
- debug c not square approach.
- measure the residual and solution (entropy, variance, etc).
- test with another fit.
- analize the effiency of compact support implementation.


### Session Worklog [1/09/2016]
- make scatter plot with C and sigmaÂ² values (heat map scatter plot).
- deterministic way of computing the points (deterministic kmeans).
- improve efficiency to add the efects of derivatives.
- mixed solver method


### Session worklog [9/09/2016]
- plot initial guess variance, entropy and rms
- compact_support fixed
- keep base_level=0 and base_level=rms for now (base_level=0 default)
- write hypothesis we are taking til now
- try 2 pass version: EL -> interpolation of the approximation
- try M100 with 2D and 3D


### Random ideas:
* Better way to update phi_x matrices: e^{x^2/\sigma^2} ^= (sigma^2 / sigma0^2)